{% extends 'base.html' %}

{% block title %}
My Bookings
{% endblock %}

{% block content %}

{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
        {% endfor %}
</ul>
{% endif %}

<table class="table table-responsive-md table-striped table-dark">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Booking Ref</th>
            <th scope="col">Name</th>
            <th scope="col">Date</th>
            <th scope="col">time</th>
            <th scope="col">People</th>
            <th scope="col">Status</th>
            <th scope="col">Amend</th>
            <th scope="col">Cancel</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            {% for booking in bookings %}
            <th scope="row">{{forloop.counter}}</th>
            <td>{{booking.reservation_id}} </td>
            <td>{{booking.name}} </td>
            <td>{{booking.date}} </td>
            <td>{{booking.check_in}} </td>
            <td>{{booking.guests}} </td>
            <td>{{booking.status}} </td>
            <td><a href="{% url 'edit' booking.reservation_id %}"><button class="btn btn-warning">Amend</button></a></td>
            <td><a href="#myModal" class="trigger-btn btn btn-danger" data-toggle="modal">Cancel</a></td>
            <div class="text-center">
                <!-- Button HTML (to Trigger Modal) -->
                <!-- <a href="#myModal" class="trigger-btn" data-toggle="modal">Click to Open Confirm Modal</a> -->
            </div>
            
            <!-- Modal HTML -->
            <div id="myModal" class="modal fade">
                <div class="modal-dialog modal-confirm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Are you sure?</h4>	
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        </div>
                        <div class="modal-body">
                            <p>Do you really want to delete these records? This process cannot be undone.</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
                            <button class="btn btn-danger"><a href="{% url 'delete' booking.reservation_id %}" type="button">Delete</a></button>
                        </div>
                    </div>
                </div>
            </div>     
        </tr>

        {% endfor %}


    </tbody>
</table>

{% endblock %}